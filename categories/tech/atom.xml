<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en">
    <title>NOVA-ME - Tech</title>
    <subtitle>The road is life.</subtitle>
    <link href="https://nova-me.github.io/categories/tech/atom.xml" rel="self" type="application/atom+xml"/>
    <link href="https://nova-me.github.io"/>
    <generator uri="https://www.getzola.org/">Zola</generator>
    <updated>2018-08-20T00:00:00+00:00</updated>
    <id>https://nova-me.github.io/categories/tech/atom.xml</id>
    <entry xml:lang="en">
        <title>Java多线程</title>
        <published>2018-08-20T00:00:00+00:00</published>
        <updated>2018-08-20T00:00:00+00:00</updated>
        <author>
          <name>Unknown</name>
        </author>
        <link rel="alternate" href="https://nova-me.github.io/posts/javaduo-xian-cheng/" type="text/html"/>
        <id>https://nova-me.github.io/posts/javaduo-xian-cheng/</id>
        <content type="html">&lt;p&gt;&lt;strong&gt;“空间换时间”&lt;&#x2F;strong&gt; 是多线程编程的核心哲学之一：我们通过消耗内存（创建线程栈、维护线程池状态、上下文切换的开销）来换取任务处理的并发度和响应速度（时间）。在工作中时常会用到多线程，下面介绍下常用的Java多线程工具。&lt;&#x2F;p&gt;
&lt;span id=&quot;continue-reading&quot;&gt;&lt;&#x2F;span&gt;&lt;h3 id=&quot;yi-xian-cheng-guan-li-chi-hua-si-xiang-de-ji-zhi-ti-xian&quot;&gt;一、 线程管理：池化思想的极致体现&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;strong&gt;核心理念：&lt;&#x2F;strong&gt; 避免频繁创建和销毁线程带来的系统开销（时间），通过维护一定数量的常驻线程（空间）来随时待命。&lt;&#x2F;p&gt;
&lt;h4 id=&quot;threadpoolexecutor-xian-cheng-chi-he-xin-lei&quot;&gt;ThreadPoolExecutor（线程池核心类）&lt;&#x2F;h4&gt;
&lt;pre data-lang=&quot;java&quot; style=&quot;background-color:#2b303b;color:#6c7079;&quot; class=&quot;language-java &quot;&gt;&lt;code class=&quot;language-java&quot; data-lang=&quot;java&quot;&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f0c678;&quot;&gt;ThreadPoolExecutor&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt; threadPoolExecutor &lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#cd74e8;&quot;&gt;new &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f0c678;&quot;&gt;ThreadPoolExecutor&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;(
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;                &lt;&#x2F;span&gt;&lt;span style=&quot;color:#db9d63;&quot;&gt;10&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;,
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;                &lt;&#x2F;span&gt;&lt;span style=&quot;color:#db9d63;&quot;&gt;100&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;,
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;                &lt;&#x2F;span&gt;&lt;span style=&quot;color:#db9d63;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;,
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;                &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f0c678;&quot;&gt;TimeUnit&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#db9d63;&quot;&gt;MINUTES&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;,
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;                &lt;&#x2F;span&gt;&lt;span style=&quot;color:#cd74e8;&quot;&gt;new &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f0c678;&quot;&gt;LinkedBlockingQueue&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;&amp;lt;&amp;gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#db9d63;&quot;&gt;20000&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;),
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;                &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f0c678;&quot;&gt;Executors&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eb6772;&quot;&gt;defaultThreadFactory&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;(), (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eb6772;&quot;&gt;runnable&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#eb6772;&quot;&gt;executor&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#cd74e8;&quot;&gt;-&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;{
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;                &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#5f697a;&quot;&gt;&#x2F;&#x2F; 当最大线程数+队列大小满负荷还有线程加入后的拒绝策略 默认ignored
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;        });
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;pre data-lang=&quot;java&quot; style=&quot;background-color:#2b303b;color:#6c7079;&quot; class=&quot;language-java &quot;&gt;&lt;code class=&quot;language-java&quot; data-lang=&quot;java&quot;&gt;&lt;span style=&quot;color:#cd74e8;&quot;&gt;public class &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f0c678;&quot;&gt;UniverseThreadFactory &lt;&#x2F;span&gt;&lt;span style=&quot;color:#cd74e8;&quot;&gt;implements &lt;&#x2F;span&gt;&lt;span style=&quot;color:#9acc76;&quot;&gt;ThreadFactory &lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;{
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#cd74e8;&quot;&gt;private static final &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f0c678;&quot;&gt;AtomicInteger &lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;poolNumber = &lt;&#x2F;span&gt;&lt;span style=&quot;color:#cd74e8;&quot;&gt;new &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f0c678;&quot;&gt;AtomicInteger&lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#db9d63;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;);
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#cd74e8;&quot;&gt;private final &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f0c678;&quot;&gt;ThreadGroup &lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;group;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#cd74e8;&quot;&gt;private final &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f0c678;&quot;&gt;AtomicInteger &lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;threadNumber = &lt;&#x2F;span&gt;&lt;span style=&quot;color:#cd74e8;&quot;&gt;new &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f0c678;&quot;&gt;AtomicInteger&lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#db9d63;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;);
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#cd74e8;&quot;&gt;private final &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f0c678;&quot;&gt;String &lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;namePrefix;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#5cb3fa;&quot;&gt;UniverseThreadFactory&lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;() {
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;        group = &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f0c678;&quot;&gt;Thread&lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eb6772;&quot;&gt;currentThread&lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;().&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eb6772;&quot;&gt;getThreadGroup&lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;();
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#5f697a;&quot;&gt;&#x2F;&#x2F; 可以自定义线程名称
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;        namePrefix = &lt;&#x2F;span&gt;&lt;span style=&quot;color:#9acc76;&quot;&gt;&amp;quot;xxx&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;+
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;                poolNumber.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eb6772;&quot;&gt;getAndIncrement&lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;() +
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;                &lt;&#x2F;span&gt;&lt;span style=&quot;color:#9acc76;&quot;&gt;&amp;quot;-thread-&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;    }
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;    @&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eb6772;&quot;&gt;Override
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#cd74e8;&quot;&gt;public &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f0c678;&quot;&gt;Thread &lt;&#x2F;span&gt;&lt;span style=&quot;color:#5cb3fa;&quot;&gt;newThread&lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f0c678;&quot;&gt;Runnable &lt;&#x2F;span&gt;&lt;span style=&quot;color:#eb6772;&quot;&gt;r&lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;) {
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f0c678;&quot;&gt;Thread&lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt; t = &lt;&#x2F;span&gt;&lt;span style=&quot;color:#cd74e8;&quot;&gt;new &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f0c678;&quot;&gt;Thread&lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;(group, r,
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;                namePrefix + threadNumber.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eb6772;&quot;&gt;getAndIncrement&lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;(),
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;                &lt;&#x2F;span&gt;&lt;span style=&quot;color:#db9d63;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;);
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#cd74e8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;(t.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eb6772;&quot;&gt;isDaemon&lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;())
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;            t.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eb6772;&quot;&gt;setDaemon&lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#db9d63;&quot;&gt;false&lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;);
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#cd74e8;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;(t.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eb6772;&quot;&gt;getPriority&lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;() != &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f0c678;&quot;&gt;Thread&lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#db9d63;&quot;&gt;NORM_PRIORITY&lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;)
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;            t.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eb6772;&quot;&gt;setPriority&lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f0c678;&quot;&gt;Thread&lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#db9d63;&quot;&gt;NORM_PRIORITY&lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;);
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#cd74e8;&quot;&gt;return&lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt; t;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;    }
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;er-bing-fa-liu-cheng-kong-zhi-duo-xian-cheng-de-hong-lu-deng&quot;&gt;二、 并发流程控制：多线程的“红绿灯”&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;strong&gt;核心理念：&lt;&#x2F;strong&gt; 协调不同线程之间的执行顺序，确保逻辑正确性。&lt;&#x2F;p&gt;
&lt;h4 id=&quot;countdownlatch&quot;&gt;CountDownLatch&lt;&#x2F;h4&gt;
&lt;p&gt;初始化 new CountDownLatch(N)。子线程执行完调用 countDown()，主线程调用 await() 阻塞等待数值归零。&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;Java&quot; style=&quot;background-color:#2b303b;color:#6c7079;&quot; class=&quot;language-Java &quot;&gt;&lt;code class=&quot;language-Java&quot; data-lang=&quot;Java&quot;&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#5f697a;&quot;&gt;&#x2F;&#x2F; 初始化
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f0c678;&quot;&gt;CountDownLatch&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt; countDownLatch &lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#cd74e8;&quot;&gt;new &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f0c678;&quot;&gt;CountDownLatch&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#db9d63;&quot;&gt;20&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;);
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f0c678;&quot;&gt;ArrayList&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f0c678;&quot;&gt;Integer&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;&amp;gt; numList &lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f0c678;&quot;&gt;Lists&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eb6772;&quot;&gt;newArrayListWithCapacity&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#db9d63;&quot;&gt;20&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;);
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#cd74e8;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#cd74e8;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt; i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#db9d63;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;; i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;&amp;lt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#db9d63;&quot;&gt;20&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;; i&lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;++&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;) {
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;            numList.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eb6772;&quot;&gt;add&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;(i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#db9d63;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;);
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;        }
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#cd74e8;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f0c678;&quot;&gt;Integer&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt; i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt; numList) {
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;            threadPoolExecutor.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eb6772;&quot;&gt;execute&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;(() &lt;&#x2F;span&gt;&lt;span style=&quot;color:#cd74e8;&quot;&gt;-&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;{
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;                &lt;&#x2F;span&gt;&lt;span style=&quot;color:#cd74e8;&quot;&gt;try &lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;{
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;                    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f0c678;&quot;&gt;System&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;.out.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eb6772;&quot;&gt;println&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;(i);
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;                } &lt;&#x2F;span&gt;&lt;span style=&quot;color:#cd74e8;&quot;&gt;catch &lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f0c678;&quot;&gt;Exception &lt;&#x2F;span&gt;&lt;span style=&quot;color:#eb6772;&quot;&gt;e&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;) {
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;                    &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#5f697a;&quot;&gt;&#x2F;&#x2F; 添加日志
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;                } &lt;&#x2F;span&gt;&lt;span style=&quot;color:#cd74e8;&quot;&gt;finally &lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;{
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;                    &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#5f697a;&quot;&gt;&#x2F;&#x2F; 子线程执行完调用 在finally块里面保证完成后调用
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;                    countDownLatch.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eb6772;&quot;&gt;countDown&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;();
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;                }
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;            });
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;        }
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#cd74e8;&quot;&gt;try &lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;{
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f0c678;&quot;&gt;System&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;.out.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eb6772;&quot;&gt;println&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#9acc76;&quot;&gt;&amp;quot;到达等待地点&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;);
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#5f697a;&quot;&gt;&#x2F;&#x2F; 阻塞等待数值归零
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;            countDownLatch.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eb6772;&quot;&gt;await&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;();
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;        } &lt;&#x2F;span&gt;&lt;span style=&quot;color:#cd74e8;&quot;&gt;catch &lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f0c678;&quot;&gt;InterruptedException &lt;&#x2F;span&gt;&lt;span style=&quot;color:#eb6772;&quot;&gt;e&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;) {
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#cd74e8;&quot;&gt;throw new &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f0c678;&quot;&gt;RuntimeException&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;(e);
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;        }
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;        threadPoolExecutor.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eb6772;&quot;&gt;shutdown&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;();
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h4 id=&quot;cyclicbarrier&quot;&gt;CyclicBarrier&lt;&#x2F;h4&gt;
&lt;p&gt;初始化new CyclicBarrier(N,()-&amp;gt;{})。线程调用 await() 表示自己到达。可循环使用，适合分阶段的并行计算&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;java&quot; style=&quot;background-color:#2b303b;color:#6c7079;&quot; class=&quot;language-java &quot;&gt;&lt;code class=&quot;language-java&quot; data-lang=&quot;java&quot;&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#cd74e8;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt; parties &lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#db9d63;&quot;&gt;3&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f0c678;&quot;&gt;List&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f0c678;&quot;&gt;Integer&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;&amp;gt; numList &lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f0c678;&quot;&gt;Lists&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eb6772;&quot;&gt;newArrayList&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;();
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#cd74e8;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#cd74e8;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt; i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#db9d63;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;; i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt; parties; i&lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;++&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;) {
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;            numList.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eb6772;&quot;&gt;add&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;(i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#db9d63;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;);
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;        }
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f0c678;&quot;&gt;List&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f0c678;&quot;&gt;Integer&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;&amp;gt; calcList &lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f0c678;&quot;&gt;Lists&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eb6772;&quot;&gt;newArrayList&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;();
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f0c678;&quot;&gt;CyclicBarrier&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt; cyclicBarrier &lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#cd74e8;&quot;&gt;new &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f0c678;&quot;&gt;CyclicBarrier&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;(parties, () &lt;&#x2F;span&gt;&lt;span style=&quot;color:#cd74e8;&quot;&gt;-&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;{
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#5f697a;&quot;&gt;&#x2F;&#x2F; 到达集合地点后最先执行的方法
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f0c678;&quot;&gt;System&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;.out.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eb6772;&quot;&gt;println&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#9acc76;&quot;&gt;&amp;quot;集合成功，执行方法成功&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;+&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt; calcList.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eb6772;&quot;&gt;toString&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;());
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;        });
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#cd74e8;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f0c678;&quot;&gt;Integer&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt; i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt; numList) {
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;            threadPoolExecutor.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eb6772;&quot;&gt;execute&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;(() &lt;&#x2F;span&gt;&lt;span style=&quot;color:#cd74e8;&quot;&gt;-&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;{
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;                &lt;&#x2F;span&gt;&lt;span style=&quot;color:#cd74e8;&quot;&gt;try &lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;{
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;                    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f0c678;&quot;&gt;Thread&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eb6772;&quot;&gt;sleep&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;((&lt;&#x2F;span&gt;&lt;span style=&quot;color:#cd74e8;&quot;&gt;long&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;) (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f0c678;&quot;&gt;Math&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eb6772;&quot;&gt;random&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;() &lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;* &lt;&#x2F;span&gt;&lt;span style=&quot;color:#db9d63;&quot;&gt;5000&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;));
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;                    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f0c678;&quot;&gt;System&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;.out.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eb6772;&quot;&gt;println&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#9acc76;&quot;&gt;&amp;quot;线程：&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f0c678;&quot;&gt;Thread&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eb6772;&quot;&gt;currentThread&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;().&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eb6772;&quot;&gt;getName&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;() &lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#9acc76;&quot;&gt;&amp;quot;到达集合点1，已经有&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;(cyclicBarrier.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eb6772;&quot;&gt;getNumberWaiting&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;() &lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#db9d63;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#9acc76;&quot;&gt;&amp;quot;个到达&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;);
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;                    calcList.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eb6772;&quot;&gt;add&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;(cyclicBarrier.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eb6772;&quot;&gt;getNumberWaiting&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;());
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;                    cyclicBarrier.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eb6772;&quot;&gt;await&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;();
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;                    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f0c678;&quot;&gt;Thread&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eb6772;&quot;&gt;sleep&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;((&lt;&#x2F;span&gt;&lt;span style=&quot;color:#cd74e8;&quot;&gt;long&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;) (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f0c678;&quot;&gt;Math&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eb6772;&quot;&gt;random&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;() &lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;* &lt;&#x2F;span&gt;&lt;span style=&quot;color:#db9d63;&quot;&gt;5000&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;));
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;                    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f0c678;&quot;&gt;System&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;.out.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eb6772;&quot;&gt;println&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#9acc76;&quot;&gt;&amp;quot;线程：&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f0c678;&quot;&gt;Thread&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eb6772;&quot;&gt;currentThread&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;().&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eb6772;&quot;&gt;getName&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;() &lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#9acc76;&quot;&gt;&amp;quot;到达集合点2，已经有&amp;quot; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;(cyclicBarrier.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eb6772;&quot;&gt;getNumberWaiting&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;() &lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#db9d63;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#adb7c9;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#9acc76;&quot;&gt;&amp;quot;个到达&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;);
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;                    calcList.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eb6772;&quot;&gt;add&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;(cyclicBarrier.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eb6772;&quot;&gt;getNumberWaiting&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;());
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;                    cyclicBarrier.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#eb6772;&quot;&gt;await&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;();
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;                } &lt;&#x2F;span&gt;&lt;span style=&quot;color:#cd74e8;&quot;&gt;catch &lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f0c678;&quot;&gt;Exception &lt;&#x2F;span&gt;&lt;span style=&quot;color:#eb6772;&quot;&gt;e&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;) {
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;                    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#cd74e8;&quot;&gt;throw new &lt;&#x2F;span&gt;&lt;span style=&quot;color:#f0c678;&quot;&gt;RuntimeException&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;(e);
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;                }
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;            });
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#abb2bf;&quot;&gt;        }
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
</content>
    </entry>
    <entry xml:lang="en">
        <title>MySQL常用知识整理</title>
        <published>2018-08-20T00:00:00+00:00</published>
        <updated>2018-08-20T00:00:00+00:00</updated>
        <author>
          <name>Unknown</name>
        </author>
        <link rel="alternate" href="https://nova-me.github.io/posts/mysqlchang-shi-zheng-li/" type="text/html"/>
        <id>https://nova-me.github.io/posts/mysqlchang-shi-zheng-li/</id>
        <content type="html">&lt;span id=&quot;continue-reading&quot;&gt;&lt;&#x2F;span&gt;</content>
    </entry>
</feed>
